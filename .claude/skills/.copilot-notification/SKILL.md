---
name: copilot-notification
description: Desktop and channel notifications for important events and status changes
---

# 通知

重要なイベントやステータス変更をユーザーに通知する。

macOS 通知は常に実行し、環境変数 `CUSTOM_CHANNEL_INBOX_ID` があれば channel にも送信する。

## 使い方

### macOS 通知（常に実行）

```bash
osascript -e 'display notification "メッセージ" with title "Claude Code"'
```

### Channel 通知（環境変数があれば実行）

`CUSTOM_CHANNEL_INBOX_ID` 環境変数が設定されている場合のみ実行:

```bash
bun .claude/skills/copilot-notification/scripts/send-message.ts "ここにメッセージを書く"
```

senderId / senderName は環境変数 `CUSTOM_CHANNEL_INBOX_ID` / `CUSTOM_CHANNEL_INBOX_NAME` から自動付与される。送信先は常に "default"。

## 通知を送るタイミング

- ステータス変更時（タスク作成、計画完了、PR 完成など）
- ユーザーへの確認が必要なとき
- エラーで中断するとき
- 重要な問題を発見したとき

## メッセージの書き方

### 基本ルール

- ユーザー目線の言葉で書く。技術的な詳細（クラス名、CSS値、ファイル名、関数名など）は含めない
- 「何ができるようになったか」「何が直ったか」を中心に書く
- チームメンバーの役割名はカタカナで書く（プログラマ、デザイナなど）。英語のエージェント名は使わない
- 簡潔に書く（1-3文程度）
- 内部用語やシステム用語を避ける（「粗探し」「重要度: 高」「Notion」「タスク起票」など）

### 代わりに使う表現の例

| 内部用語 | 外部向け表現 |
|---|---|
| 粗探し | 品質チェック、点検 |
| 重要度: 高 | 優先的に対応が必要 |
| タスクを起票した | 対応を開始しました / 改善項目として記録しました |
| バグ | 不具合、問題 |

## 報告例

良い例:

- 「投稿の公開範囲を選択できるようになりました。計画の確認をお願いします」
- 「ログイン機能の実装が完了しました。PR #123 で確認をお願いします」
- 「セキュリティ上の問題を発見しました。優先的に対応が必要です」
- 「新しいタスクを起票しました」
- 「PR を作成しました」

悪い例:

- 「posts.create.ts に visibility フィルタを実装しました」（技術的すぎる）
- 「タスク起票完了」（簡潔すぎて内容が不明）
- 「bug-hunter が粗探しでバグを発見」（内部用語を使用）
- 「タスク #123 の計画確認待ちステータスへの遷移が完了しました」（長すぎる）
- 「処理を実行中です」（具体性がない）

## 注意

- 通知は重要なイベントに限定する
- 頻繁すぎる通知はユーザーの集中を妨げる
- メッセージは1文で完結させる
